<div class="container">
  <!-- HEADER -->
  <header class="d-flex flex-wrap justify-content-between align-items-center py-3 mb-4 border-bottom">
    <a routerLink="/quizzes" class="d-flex align-items-center mb-2 mb-md-0 text-dark text-decoration-none">
      <i class="bi bi-lightning-charge-fill fs-3 me-2 text-purple"></i>
      <span class="fs-4 fw-bold text-purple">Quiz Chico</span>
    </a>
    
    <ul class="nav nav-pills">
      <li class="nav-item">
        <a routerLink="/quizzes" class="nav-link">Início</a>
      </li>
      <li class="nav-item">
        <a routerLink="/ranking" class="nav-link active bg-purple">Ranking</a>
      </li>
    </ul>

    <!-- Menu do Usuário com Dropdown -->
    <div class="dropdown">
      <button class="btn btn-outline-purple dropdown-toggle d-flex align-items-center" type="button" 
              id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
        <i class="bi bi-person-circle me-2"></i>
        <span>{{ userName }}</span>
      </button>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
        <li>
          <a class="dropdown-item" routerLink="/profile">
            <i class="bi bi-person me-2"></i>Perfil
          </a>
        </li>
        <li><hr class="dropdown-divider"></li>
        <li>
          <a class="dropdown-item text-danger" routerLink="/" >
            <i class="bi bi-box-arrow-right me-2"></i>Sair
          </a>
        </li>
      </ul>
    </div>
  </header>

  <!-- CONTEÚDO PRINCIPAL -->
  <main class="my-5">
    <div class="ranking-container">
      <div class="ranking-header">
        <h1 class="page-title"><i class="bi bi-trophy-fill"></i> Ranking de Pontuações</h1>
        <p class="text-muted">Veja como você está em relação aos outros jogadores</p>
      </div>

      <div class="d-flex justify-content-between mb-3">
        <div class="d-flex align-items-center">
          <span class="position-user badge bg-purple me-2">Sua Posição</span>
          <span id="userPosition">#{{ userPosition }}</span>
        </div>
        <div class="d-flex align-items-center">
          <span class="position-user badge bg-purple me-2">Sua Pontuação</span>
          <span id="userScore">{{ userScore }}%</span>
        </div>
      </div>

      <ul class="ranking-list">
        <li *ngFor="let user of rankingData; let i = index" 
            class="ranking-item" 
            [class.user-you]="user.id === 'current-user'">
          <div class="position" [class]="getMedalClass(i + 1)">
            {{ i + 1 }}
            <i *ngIf="i < 3" class="bi bi-award-fill"></i>
          </div>
          <div class="user-info">
            {{ user.name }}
            <span *ngIf="user.id === 'current-user'" class="badge bg-light text-purple ms-2">Você</span>
          </div>
          <div class="user-score">
            {{ user.averageScore }}%
          </div>
        </li>
      </ul>

      <div class="text-center mt-4">
        <a routerLink="/quizzes" class="btn btn-purple">Voltar ao Início</a>
      </div>
    </div>
  </main>
</div>